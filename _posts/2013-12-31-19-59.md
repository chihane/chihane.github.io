---
layout: post
title: 秒秒钟食言
date: 2013-12-31 19:59:00
categories: cnblogs
---

<p>　　其实我该睡觉了，擦四点了。</p>
<p>　　先发个打开文件的代码，布局就先不发吧。</p>
<p>　　明天把保存按钮的代码写了。</p>
<p>　　什么你说退出？</p>
<div class="cnblogs_code" onclick="cnblogs_code_show('fcf36903-f352-4fd1-8a4a-46785d73c85e')"><img id="code_img_closed_fcf36903-f352-4fd1-8a4a-46785d73c85e" class="code_img_closed" src="http://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif" alt="" /><img id="code_img_opened_fcf36903-f352-4fd1-8a4a-46785d73c85e" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('fcf36903-f352-4fd1-8a4a-46785d73c85e',event)" src="http://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif" alt="" />
<div id="cnblogs_code_open_fcf36903-f352-4fd1-8a4a-46785d73c85e" class="cnblogs_code_hide">
<pre><span style="color: #008080;"> 1</span> <span style="color: #0000ff;">class</span> openListener <span style="color: #0000ff;">implements</span><span style="color: #000000;"> ActionListener {
</span><span style="color: #008080;"> 2</span> <span style="color: #000000;">    MainFrame parent;
</span><span style="color: #008080;"> 3</span>     
<span style="color: #008080;"> 4</span>     openListener(MainFrame parent) {<span style="color: #0000ff;">this</span>.parent =<span style="color: #000000;"> parent;}
</span><span style="color: #008080;"> 5</span>     
<span style="color: #008080;"> 6</span> <span style="color: #000000;">    @Override
</span><span style="color: #008080;"> 7</span>     <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">void</span><span style="color: #000000;"> actionPerformed(ActionEvent e) {
</span><span style="color: #008080;"> 8</span>         <span style="color: #008000;">//</span><span style="color: #008000;">选择文件。</span>
<span style="color: #008080;"> 9</span>         JFileChooser fileChooser = <span style="color: #0000ff;">new</span><span style="color: #000000;"> JFileChooser();
</span><span style="color: #008080;">10</span> <span style="color: #000000;">        fileChooser.setFileSelectionMode(JFileChooser.FILES_ONLY);
</span><span style="color: #008080;">11</span>         fileChooser.setMultiSelectionEnabled(<span style="color: #0000ff;">false</span><span style="color: #000000;">);
</span><span style="color: #008080;">12</span>         File file = <span style="color: #0000ff;">null</span><span style="color: #000000;">;
</span><span style="color: #008080;">13</span>         <span style="color: #0000ff;">if</span> (fileChooser.showOpenDialog(parent) ==<span style="color: #000000;"> JFileChooser.APPROVE_OPTION) {
</span><span style="color: #008080;">14</span>             file =<span style="color: #000000;"> fileChooser.getSelectedFile();
</span><span style="color: #008080;">15</span> <span style="color: #000000;">        }
</span><span style="color: #008080;">16</span>         
<span style="color: #008080;">17</span>         <span style="color: #008000;">//</span><span style="color: #008000;">读取文件内容后向文本框一次性写入。</span>
<span style="color: #008080;">18</span>         <span style="color: #0000ff;">try</span><span style="color: #000000;"> {
</span><span style="color: #008080;">19</span>             InputStreamReader in = <span style="color: #0000ff;">new</span> InputStreamReader(<span style="color: #0000ff;">new</span> FileInputStream(file), "Unicode"<span style="color: #000000;">);
</span><span style="color: #008080;">20</span>             BufferedReader reader = <span style="color: #0000ff;">new</span><span style="color: #000000;"> BufferedReader(in);
</span><span style="color: #008080;">21</span> <span style="color: #000000;">            String s;
</span><span style="color: #008080;">22</span>             StringBuffer sb = <span style="color: #0000ff;">new</span> StringBuffer(""<span style="color: #000000;">);
</span><span style="color: #008080;">23</span>             <span style="color: #0000ff;">while</span> ((s = reader.readLine()) != <span style="color: #0000ff;">null</span><span style="color: #000000;">) {
</span><span style="color: #008080;">24</span>                 sb.append(s + "\n"<span style="color: #000000;">);
</span><span style="color: #008080;">25</span> <span style="color: #000000;">            }
</span><span style="color: #008080;">26</span> <span style="color: #000000;">            parent.content.setText(sb.toString());
</span><span style="color: #008080;">27</span> <span style="color: #000000;">            reader.close();
</span><span style="color: #008080;">28</span>         } <span style="color: #0000ff;">catch</span><span style="color: #000000;"> (FileNotFoundException ex) {
</span><span style="color: #008080;">29</span> <span style="color: #000000;">            ex.printStackTrace();
</span><span style="color: #008080;">30</span>         } <span style="color: #0000ff;">catch</span><span style="color: #000000;"> (IOException ioe) {
</span><span style="color: #008080;">31</span> <span style="color: #000000;">            ioe.printStackTrace();
</span><span style="color: #008080;">32</span> <span style="color: #000000;">        }
</span><span style="color: #008080;">33</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">34</span> }</pre>
</div>
<span class="cnblogs_code_collapse">一个按钮的监听内容</span></div>

<p align=right><span style="font-size: 12px">——本文由博客园搬家工具<a href="https://github.com/mlxy/SRBCnblogs">SRBCnblogs</a>转换而成</span></p>