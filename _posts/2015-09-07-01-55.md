---
layout: post
title: Activity从未如此清爽，既清又爽
date: 2015-09-07 01:55:00
categories: cnblogs
---

<p>下一篇细说。</p>
<div class="cnblogs_code">
<pre><span style="color: #008080;">  1</span> <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">class</span> MomentActivity <span style="color: #0000ff;">extends</span> Activity <span style="color: #0000ff;">implements</span><span style="color: #000000;"> IMomentView, OnClickListener, OnItemLongClickListener, OnItemClickListener {
</span><span style="color: #008080;">  2</span>     <span style="color: #0000ff;">private</span><span style="color: #000000;"> MomentPresenter presenter;
</span><span style="color: #008080;">  3</span>     
<span style="color: #008080;">  4</span>     <span style="color: #0000ff;">private</span><span style="color: #000000;"> ImageView imageViewSelfAvatar;
</span><span style="color: #008080;">  5</span>     <span style="color: #0000ff;">private</span><span style="color: #000000;"> TextView textViewSelfName;
</span><span style="color: #008080;">  6</span>     <span style="color: #0000ff;">private</span><span style="color: #000000;"> TextView textViewSelfContent;
</span><span style="color: #008080;">  7</span>     <span style="color: #0000ff;">private</span><span style="color: #000000;"> TextView textViewDate;
</span><span style="color: #008080;">  8</span> 
<span style="color: #008080;">  9</span>     <span style="color: #0000ff;">private</span><span style="color: #000000;"> ScollGridView photoGridView;
</span><span style="color: #008080;"> 10</span>     <span style="color: #0000ff;">private</span><span style="color: #000000;"> PhotoAdapter adapterPhotos;
</span><span style="color: #008080;"> 11</span> 
<span style="color: #008080;"> 12</span>     <span style="color: #0000ff;">private</span><span style="color: #000000;"> ScollGridView likeGridView;
</span><span style="color: #008080;"> 13</span>     <span style="color: #0000ff;">private</span><span style="color: #000000;"> LikeAdapter adapterLikes;
</span><span style="color: #008080;"> 14</span>     <span style="color: #0000ff;">private</span><span style="color: #000000;"> ScollListView commentListView;
</span><span style="color: #008080;"> 15</span>     <span style="color: #0000ff;">private</span><span style="color: #000000;"> CommentAdapter adapterComments;
</span><span style="color: #008080;"> 16</span>     
<span style="color: #008080;"> 17</span>     <span style="color: #0000ff;">private</span><span style="color: #000000;"> View triangle;
</span><span style="color: #008080;"> 18</span>     <span style="color: #0000ff;">private</span><span style="color: #000000;"> View layoutLikesComments;
</span><span style="color: #008080;"> 19</span>     <span style="color: #0000ff;">private</span><span style="color: #000000;"> View layoutLikes;
</span><span style="color: #008080;"> 20</span>     <span style="color: #0000ff;">private</span><span style="color: #000000;"> View divider;
</span><span style="color: #008080;"> 21</span>     
<span style="color: #008080;"> 22</span>     <span style="color: #0000ff;">private</span><span style="color: #000000;"> EditText editTextComment;
</span><span style="color: #008080;"> 23</span> 
<span style="color: #008080;"> 24</span> <span style="color: #000000;">    @Override
</span><span style="color: #008080;"> 25</span>     <span style="color: #0000ff;">protected</span> <span style="color: #0000ff;">void</span><span style="color: #000000;"> onCreate(Bundle savedInstanceState) {
</span><span style="color: #008080;"> 26</span>         <span style="color: #0000ff;">super</span><span style="color: #000000;">.onCreate(savedInstanceState);
</span><span style="color: #008080;"> 27</span> <span style="color: #000000;">        requestWindowFeature(Window.FEATURE_NO_TITLE);
</span><span style="color: #008080;"> 28</span> <span style="color: #000000;">        setContentView(R.layout.activity_moment);
</span><span style="color: #008080;"> 29</span>         
<span style="color: #008080;"> 30</span>         presenter = <span style="color: #0000ff;">new</span> MomentPresenter(<span style="color: #0000ff;">this</span><span style="color: #000000;">);
</span><span style="color: #008080;"> 31</span>         
<span style="color: #008080;"> 32</span> <span style="color: #000000;">        initViews();
</span><span style="color: #008080;"> 33</span> <span style="color: #000000;">        presenter.loadData();
</span><span style="color: #008080;"> 34</span> <span style="color: #000000;">    }
</span><span style="color: #008080;"> 35</span>     
<span style="color: #008080;"> 36</span>     <span style="color: #0000ff;">private</span> <span style="color: #0000ff;">void</span><span style="color: #000000;"> initViews() {
</span><span style="color: #008080;"> 37</span>         <span style="color: #008000;">//</span><span style="color: #008000;"> 返回按钮。</span>
<span style="color: #008080;"> 38</span>         findViewById(R.id.title_back_image).setOnClickListener(<span style="color: #0000ff;">this</span><span style="color: #000000;">);
</span><span style="color: #008080;"> 39</span> 
<span style="color: #008080;"> 40</span>         <span style="color: #008000;">//</span><span style="color: #008000;"> 发布者。</span>
<span style="color: #008080;"> 41</span>         imageViewSelfAvatar =<span style="color: #000000;"> (ImageView) findViewById(R.id.user_self_image);
</span><span style="color: #008080;"> 42</span>         imageViewSelfAvatar.setOnClickListener(<span style="color: #0000ff;">this</span><span style="color: #000000;">);
</span><span style="color: #008080;"> 43</span>         textViewSelfName =<span style="color: #000000;"> (TextView) findViewById(R.id.user_self_name);
</span><span style="color: #008080;"> 44</span>         textViewSelfName.setOnClickListener(<span style="color: #0000ff;">this</span><span style="color: #000000;">);
</span><span style="color: #008080;"> 45</span>         
<span style="color: #008080;"> 46</span>         <span style="color: #008000;">//</span><span style="color: #008000;"> 正文。</span>
<span style="color: #008080;"> 47</span>         textViewSelfContent =<span style="color: #000000;"> (TextView) findViewById(R.id.user_self_content);
</span><span style="color: #008080;"> 48</span>         textViewSelfContent.setOnClickListener(<span style="color: #0000ff;">this</span><span style="color: #000000;">);
</span><span style="color: #008080;"> 49</span>         
<span style="color: #008080;"> 50</span>         <span style="color: #008000;">//</span><span style="color: #008000;"> 正文配图。</span>
<span style="color: #008080;"> 51</span>         photoGridView =<span style="color: #000000;"> (ScollGridView) findViewById(R.id.user_self_photo_gridView);
</span><span style="color: #008080;"> 52</span>         adapterPhotos = <span style="color: #0000ff;">new</span> PhotoAdapter(<span style="color: #0000ff;">this</span><span style="color: #000000;">);
</span><span style="color: #008080;"> 53</span> <span style="color: #000000;">        photoGridView.setAdapter(adapterPhotos);
</span><span style="color: #008080;"> 54</span>         photoGridView.setOnItemLongClickListener(<span style="color: #0000ff;">this</span><span style="color: #000000;">);
</span><span style="color: #008080;"> 55</span>         
<span style="color: #008080;"> 56</span>         <span style="color: #008000;">//</span><span style="color: #008000;"> 日期。</span>
<span style="color: #008080;"> 57</span>         textViewDate =<span style="color: #000000;"> (TextView) findViewById(R.id.user_self_dateTime);
</span><span style="color: #008080;"> 58</span>         textViewDate.setOnClickListener(<span style="color: #0000ff;">this</span><span style="color: #000000;">);
</span><span style="color: #008080;"> 59</span>         
<span style="color: #008080;"> 60</span>         <span style="color: #008000;">//</span><span style="color: #008000;"> 删除。</span>
<span style="color: #008080;"> 61</span>         findViewById(R.id.textViewDelete).setOnClickListener(<span style="color: #0000ff;">this</span><span style="color: #000000;">);
</span><span style="color: #008080;"> 62</span>         
<span style="color: #008080;"> 63</span>         <span style="color: #008000;">//</span><span style="color: #008000;"> 点赞。</span>
<span style="color: #008080;"> 64</span>         findViewById(R.id.imageViewAddLike).setOnClickListener(<span style="color: #0000ff;">this</span><span style="color: #000000;">);
</span><span style="color: #008080;"> 65</span>         
<span style="color: #008080;"> 66</span>         <span style="color: #008000;">//</span><span style="color: #008000;"> 赞和评论的背景。</span>
<span style="color: #008080;"> 67</span>         triangle =<span style="color: #000000;"> findViewById(R.id.triangle);
</span><span style="color: #008080;"> 68</span>         layoutLikesComments =<span style="color: #000000;"> findViewById(R.id.layout_likes_comments);
</span><span style="color: #008080;"> 69</span>         <span style="color: #008000;">//</span><span style="color: #008000;"> 赞区域。</span>
<span style="color: #008080;"> 70</span>         layoutLikes =<span style="color: #000000;"> findViewById(R.id.layout_likes);
</span><span style="color: #008080;"> 71</span>         divider =<span style="color: #000000;"> findViewById(R.id.divider_likes_comments);
</span><span style="color: #008080;"> 72</span> 
<span style="color: #008080;"> 73</span>         <span style="color: #008000;">//</span><span style="color: #008000;"> 赞。</span>
<span style="color: #008080;"> 74</span>         likeGridView =<span style="color: #000000;"> (ScollGridView) findViewById(R.id.user_other_photo_gridView);
</span><span style="color: #008080;"> 75</span>         adapterLikes = <span style="color: #0000ff;">new</span> LikeAdapter(<span style="color: #0000ff;">this</span><span style="color: #000000;">);
</span><span style="color: #008080;"> 76</span> <span style="color: #000000;">        likeGridView.setAdapter(adapterLikes);
</span><span style="color: #008080;"> 77</span>         likeGridView.setOnItemLongClickListener(<span style="color: #0000ff;">this</span><span style="color: #000000;">);
</span><span style="color: #008080;"> 78</span>         
<span style="color: #008080;"> 79</span>         <span style="color: #008000;">//</span><span style="color: #008000;"> 发送图片。</span>
<span style="color: #008080;"> 80</span>         findViewById(R.id.bottom_emoji).setOnClickListener(<span style="color: #0000ff;">this</span><span style="color: #000000;">);
</span><span style="color: #008080;"> 81</span> 
<span style="color: #008080;"> 82</span>         <span style="color: #008000;">//</span><span style="color: #008000;"> 评论。</span>
<span style="color: #008080;"> 83</span>         commentListView =<span style="color: #000000;"> (ScollListView) findViewById(R.id.user_other_comment_listView);
</span><span style="color: #008080;"> 84</span>         adapterComments = <span style="color: #0000ff;">new</span> CommentAdapter(<span style="color: #0000ff;">this</span><span style="color: #000000;">);
</span><span style="color: #008080;"> 85</span> <span style="color: #000000;">        commentListView.setAdapter(adapterComments);
</span><span style="color: #008080;"> 86</span>         commentListView.setOnItemLongClickListener(<span style="color: #0000ff;">this</span><span style="color: #000000;">);
</span><span style="color: #008080;"> 87</span>         commentListView.setOnItemClickListener(<span style="color: #0000ff;">this</span><span style="color: #000000;">);
</span><span style="color: #008080;"> 88</span>         
<span style="color: #008080;"> 89</span>         <span style="color: #008000;">//</span><span style="color: #008000;"> 发送评论。</span>
<span style="color: #008080;"> 90</span>         editTextComment =<span style="color: #000000;"> (EditText) findViewById(R.id.bottom_editText);
</span><span style="color: #008080;"> 91</span>         findViewById(R.id.bottom_send).setOnClickListener(<span style="color: #0000ff;">this</span><span style="color: #000000;">);
</span><span style="color: #008080;"> 92</span> <span style="color: #000000;">    }
</span><span style="color: #008080;"> 93</span>     
<span style="color: #008080;"> 94</span> <span style="color: #000000;">    @Override
</span><span style="color: #008080;"> 95</span>     <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">void</span><span style="color: #000000;"> onClick(View v) {
</span><span style="color: #008080;"> 96</span>         <span style="color: #0000ff;">switch</span><span style="color: #000000;"> (v.getId()) {
</span><span style="color: #008080;"> 97</span>         <span style="color: #0000ff;">case</span><span style="color: #000000;"> R.id.title_back_image:
</span><span style="color: #008080;"> 98</span> <span style="color: #000000;">            finish();
</span><span style="color: #008080;"> 99</span>             <span style="color: #0000ff;">break</span><span style="color: #000000;">;
</span><span style="color: #008080;">100</span>             
<span style="color: #008080;">101</span>         <span style="color: #0000ff;">case</span><span style="color: #000000;"> R.id.user_self_image:
</span><span style="color: #008080;">102</span> <span style="color: #008000;">//</span><span style="color: #008000;">            presenter.publish(this);
</span><span style="color: #008080;">103</span> <span style="color: #008000;">//</span><span style="color: #008000;">            break;
</span><span style="color: #008080;">104</span> <span style="color: #008000;">//</span>            
<span style="color: #008080;">105</span>         <span style="color: #0000ff;">case</span><span style="color: #000000;"> R.id.user_self_name:
</span><span style="color: #008080;">106</span>             presenter.selectPublisher(<span style="color: #0000ff;">this</span><span style="color: #000000;">);
</span><span style="color: #008080;">107</span>             <span style="color: #0000ff;">break</span><span style="color: #000000;">;
</span><span style="color: #008080;">108</span>             
<span style="color: #008080;">109</span>         <span style="color: #0000ff;">case</span><span style="color: #000000;"> R.id.user_self_content:
</span><span style="color: #008080;">110</span> <span style="color: #000000;">            presenter.editContent();
</span><span style="color: #008080;">111</span>             <span style="color: #0000ff;">break</span><span style="color: #000000;">;
</span><span style="color: #008080;">112</span>             
<span style="color: #008080;">113</span>         <span style="color: #0000ff;">case</span><span style="color: #000000;"> R.id.user_self_dateTime:
</span><span style="color: #008080;">114</span> <span style="color: #000000;">            presenter.pickTime();
</span><span style="color: #008080;">115</span>             <span style="color: #0000ff;">break</span><span style="color: #000000;">;
</span><span style="color: #008080;">116</span>             
<span style="color: #008080;">117</span>         <span style="color: #0000ff;">case</span><span style="color: #000000;"> R.id.textViewDelete:
</span><span style="color: #008080;">118</span> <span style="color: #000000;">            presenter.resetAll();
</span><span style="color: #008080;">119</span>             <span style="color: #0000ff;">break</span><span style="color: #000000;">;
</span><span style="color: #008080;">120</span>             
<span style="color: #008080;">121</span>         <span style="color: #0000ff;">case</span><span style="color: #000000;"> R.id.imageViewAddLike:
</span><span style="color: #008080;">122</span>             presenter.like(<span style="color: #0000ff;">this</span><span style="color: #000000;">);
</span><span style="color: #008080;">123</span>             <span style="color: #0000ff;">break</span><span style="color: #000000;">;
</span><span style="color: #008080;">124</span>             
<span style="color: #008080;">125</span>         <span style="color: #0000ff;">case</span><span style="color: #000000;"> R.id.bottom_emoji:
</span><span style="color: #008080;">126</span>             presenter.selectImage(<span style="color: #0000ff;">this</span><span style="color: #000000;">);
</span><span style="color: #008080;">127</span>             <span style="color: #0000ff;">break</span><span style="color: #000000;">;
</span><span style="color: #008080;">128</span>             
<span style="color: #008080;">129</span>         <span style="color: #0000ff;">case</span><span style="color: #000000;"> R.id.bottom_send:
</span><span style="color: #008080;">130</span>             presenter.comment(<span style="color: #0000ff;">this</span><span style="color: #000000;">, editTextComment.getText().toString().trim());
</span><span style="color: #008080;">131</span>             <span style="color: #0000ff;">break</span><span style="color: #000000;">;
</span><span style="color: #008080;">132</span> <span style="color: #000000;">        }
</span><span style="color: #008080;">133</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">134</span>     
<span style="color: #008080;">135</span> <span style="color: #000000;">    @Override
</span><span style="color: #008080;">136</span>     <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">void</span> onItemClick(AdapterView&lt;?&gt; parent, View view, <span style="color: #0000ff;">int</span> position, <span style="color: #0000ff;">long</span><span style="color: #000000;"> id) {
</span><span style="color: #008080;">137</span>         <span style="color: #0000ff;">switch</span><span style="color: #000000;"> (parent.getId()) {
</span><span style="color: #008080;">138</span>         <span style="color: #0000ff;">case</span><span style="color: #000000;"> R.id.user_other_comment_listView:
</span><span style="color: #008080;">139</span> <span style="color: #000000;">            presenter.setReplyTo(adapterComments.getItem(position).user);
</span><span style="color: #008080;">140</span>             <span style="color: #0000ff;">break</span><span style="color: #000000;">;
</span><span style="color: #008080;">141</span> <span style="color: #000000;">        }
</span><span style="color: #008080;">142</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">143</span>     
<span style="color: #008080;">144</span> <span style="color: #000000;">    @Override
</span><span style="color: #008080;">145</span>     <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">boolean</span> onItemLongClick(AdapterView&lt;?&gt; parent, View view, <span style="color: #0000ff;">final</span> <span style="color: #0000ff;">int</span> position, <span style="color: #0000ff;">long</span><span style="color: #000000;"> id) {
</span><span style="color: #008080;">146</span>         <span style="color: #0000ff;">switch</span><span style="color: #000000;"> (parent.getId()) {
</span><span style="color: #008080;">147</span>         <span style="color: #0000ff;">case</span><span style="color: #000000;"> R.id.user_self_photo_gridView:
</span><span style="color: #008080;">148</span> <span style="color: #000000;">            presenter.deleteImage(position);
</span><span style="color: #008080;">149</span>             <span style="color: #0000ff;">break</span><span style="color: #000000;">;
</span><span style="color: #008080;">150</span>             
<span style="color: #008080;">151</span>         <span style="color: #0000ff;">case</span><span style="color: #000000;"> R.id.user_other_photo_gridView:
</span><span style="color: #008080;">152</span> <span style="color: #000000;">            presenter.deleteLike(position);
</span><span style="color: #008080;">153</span>             <span style="color: #0000ff;">break</span><span style="color: #000000;">;
</span><span style="color: #008080;">154</span>             
<span style="color: #008080;">155</span>         <span style="color: #0000ff;">case</span><span style="color: #000000;"> R.id.user_other_comment_listView:
</span><span style="color: #008080;">156</span> <span style="color: #000000;">            presenter.deleteComment(position);
</span><span style="color: #008080;">157</span>             <span style="color: #0000ff;">break</span><span style="color: #000000;">;
</span><span style="color: #008080;">158</span> <span style="color: #000000;">        }
</span><span style="color: #008080;">159</span>         <span style="color: #0000ff;">return</span> <span style="color: #0000ff;">false</span><span style="color: #000000;">;
</span><span style="color: #008080;">160</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">161</span> 
<span style="color: #008080;">162</span> <span style="color: #000000;">    @Override
</span><span style="color: #008080;">163</span>     <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">void</span><span style="color: #000000;"> updatePublisher(User publisher) {
</span><span style="color: #008080;">164</span>         imageViewSelfAvatar.setImageBitmap(ImageUtil.getBitmapFromUri(<span style="color: #0000ff;">this</span><span style="color: #000000;">, publisher.avatar));
</span><span style="color: #008080;">165</span> <span style="color: #000000;">        textViewSelfName.setText(publisher.name);
</span><span style="color: #008080;">166</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">167</span> 
<span style="color: #008080;">168</span> <span style="color: #000000;">    @Override
</span><span style="color: #008080;">169</span>     <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">void</span><span style="color: #000000;"> updateContent(String content) {
</span><span style="color: #008080;">170</span> <span style="color: #000000;">        textViewSelfContent.setText(content);
</span><span style="color: #008080;">171</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">172</span> 
<span style="color: #008080;">173</span> <span style="color: #000000;">    @Override
</span><span style="color: #008080;">174</span>     <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">void</span> updateImages(List&lt;Image&gt;<span style="color: #000000;"> images) {
</span><span style="color: #008080;">175</span> <span style="color: #000000;">        adapterPhotos.setData(images);
</span><span style="color: #008080;">176</span> <span style="color: #000000;">        adapterPhotos.notifyDataSetChanged();
</span><span style="color: #008080;">177</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">178</span> 
<span style="color: #008080;">179</span> <span style="color: #000000;">    @Override
</span><span style="color: #008080;">180</span>     <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">void</span><span style="color: #000000;"> updateDate(String formattedDate) {
</span><span style="color: #008080;">181</span> <span style="color: #000000;">        textViewDate.setText(formattedDate);
</span><span style="color: #008080;">182</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">183</span> 
<span style="color: #008080;">184</span> <span style="color: #000000;">    @Override
</span><span style="color: #008080;">185</span>     <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">void</span> updateLikes(List&lt;Like&gt;<span style="color: #000000;"> likes) {
</span><span style="color: #008080;">186</span> <span style="color: #000000;">        adapterLikes.setData(likes);
</span><span style="color: #008080;">187</span> <span style="color: #000000;">        adapterLikes.notifyDataSetChanged();
</span><span style="color: #008080;">188</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">189</span> 
<span style="color: #008080;">190</span> <span style="color: #000000;">    @Override
</span><span style="color: #008080;">191</span>     <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">void</span> updateComments(List&lt;Comment&gt;<span style="color: #000000;"> comments) {
</span><span style="color: #008080;">192</span> <span style="color: #000000;">        adapterComments.setData(comments);
</span><span style="color: #008080;">193</span> <span style="color: #000000;">        adapterComments.notifyDataSetChanged();
</span><span style="color: #008080;">194</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">195</span>     
<span style="color: #008080;">196</span> <span style="color: #000000;">    @Override
</span><span style="color: #008080;">197</span>     <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">void</span> updateImagesVisibility(<span style="color: #0000ff;">boolean</span><span style="color: #000000;"> isVisible) {
</span><span style="color: #008080;">198</span>         photoGridView.setVisibility(isVisible ?<span style="color: #000000;"> View.VISIBLE : View.GONE);
</span><span style="color: #008080;">199</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">200</span>     
<span style="color: #008080;">201</span> <span style="color: #000000;">    @Override
</span><span style="color: #008080;">202</span>     <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">void</span> updateLikeCommentAreaVisibility(<span style="color: #0000ff;">boolean</span><span style="color: #000000;"> isVisible) {
</span><span style="color: #008080;">203</span>         triangle.setVisibility(isVisible ?<span style="color: #000000;"> View.VISIBLE : View.GONE);
</span><span style="color: #008080;">204</span>         layoutLikesComments.setVisibility(isVisible ?<span style="color: #000000;"> View.VISIBLE : View.GONE);
</span><span style="color: #008080;">205</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">206</span> 
<span style="color: #008080;">207</span> <span style="color: #000000;">    @Override
</span><span style="color: #008080;">208</span>     <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">void</span> updateLikesVisibility(<span style="color: #0000ff;">boolean</span><span style="color: #000000;"> isVisible) {
</span><span style="color: #008080;">209</span>         layoutLikes.setVisibility(isVisible ?<span style="color: #000000;"> View.VISIBLE : View.GONE);
</span><span style="color: #008080;">210</span>         divider.setVisibility(isVisible ?<span style="color: #000000;"> View.VISIBLE : View.GONE);
</span><span style="color: #008080;">211</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">212</span>     
<span style="color: #008080;">213</span> <span style="color: #000000;">    @Override
</span><span style="color: #008080;">214</span>     <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">void</span><span style="color: #000000;"> updateCommentHint(String hint) {
</span><span style="color: #008080;">215</span> <span style="color: #000000;">        editTextComment.setHint(hint);
</span><span style="color: #008080;">216</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">217</span>     
<span style="color: #008080;">218</span> <span style="color: #000000;">    @Override
</span><span style="color: #008080;">219</span>     <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">void</span><span style="color: #000000;"> clearCommentText() {
</span><span style="color: #008080;">220</span>         editTextComment.setText(""<span style="color: #000000;">);
</span><span style="color: #008080;">221</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">222</span>     
<span style="color: #008080;">223</span> <span style="color: #000000;">    @Override
</span><span style="color: #008080;">224</span>     <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">void</span><span style="color: #000000;"> resetViews() {
</span><span style="color: #008080;">225</span> <span style="color: #000000;">        setContentView(R.layout.activity_moment);
</span><span style="color: #008080;">226</span> <span style="color: #000000;">        initViews();
</span><span style="color: #008080;">227</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">228</span> 
<span style="color: #008080;">229</span> <span style="color: #000000;">    @Override
</span><span style="color: #008080;">230</span>     <span style="color: #0000ff;">public</span><span style="color: #000000;"> Context getContext() {
</span><span style="color: #008080;">231</span>         <span style="color: #0000ff;">return</span> <span style="color: #0000ff;">this</span><span style="color: #000000;">;
</span><span style="color: #008080;">232</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">233</span> 
<span style="color: #008080;">234</span> <span style="color: #000000;">    @Override
</span><span style="color: #008080;">235</span>     <span style="color: #0000ff;">protected</span> <span style="color: #0000ff;">void</span> onActivityResult(<span style="color: #0000ff;">int</span> requestCode, <span style="color: #0000ff;">int</span><span style="color: #000000;"> resultCode, Intent data) {
</span><span style="color: #008080;">236</span> <span style="color: #000000;">        presenter.handleActivityResult(requestCode, resultCode, data);
</span><span style="color: #008080;">237</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">238</span>     
<span style="color: #008080;">239</span> <span style="color: #000000;">    @Override
</span><span style="color: #008080;">240</span>     <span style="color: #0000ff;">protected</span> <span style="color: #0000ff;">void</span><span style="color: #000000;"> onDestroy() {
</span><span style="color: #008080;">241</span>         <span style="color: #0000ff;">super</span><span style="color: #000000;">.onDestroy();
</span><span style="color: #008080;">242</span> <span style="color: #000000;">        presenter.onActivityDestroyed();
</span><span style="color: #008080;">243</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">244</span> }</pre>
</div>
<p>&nbsp;</p>

<div align=right><a href="https://github.com/mlxy/SRBCnblogs"><font size=1>——本文由博客园搬家工具SRBCnblogs转换而成</font></a></div>