---
layout: post
title: 几天没写新程序像过了好几年一样
date: 2013-11-16 18:31:00
categories: cnblogs
---

<p>猜数游戏，也用Python做过的。</p>
<p>这么简单的东西，就不写文档了吧&hellip;&hellip;</p>
<p>&nbsp;</p>
<p>几个问题：</p>
<p>1. 弹窗用JOptionPane类（包？）里面的show&times;&times;&times;&times;&times;方法，名字很好懂，打了show看输入提示就知道自己需要哪个，这个程序里用了两个，之后用用别的。</p>
<p>&nbsp;</p>
<p>2. 弹窗有两种用法，拿showInputDialog()举例，括号里接收几个参数，</p>
<p>　　第一个参数叫parent component，似乎是决定框架样式的，用null做值的话会提供一个默认框架。</p>
<p>　　第二个参数是窗口显示的内容，像是&ldquo;你确定要退出吗？&rdquo;这类句子呆着的地方。</p>
<p>　　第三个是窗口标题，和第二个一样，都是接受字符串。</p>
<p>　　第四个决定窗口面板上显示的图标，如果不用的话输入JOptionPane.PLAIN_MESSAGE，其他的比如感叹号用warning message，问号用question message，用到的时候再看也可以，不过要记得输入前面的JOptionPane和点，不然报看不懂的错，另外变量名要大写加下划线。</p>
<p>&nbsp;</p>
<p>3. 上边说的是第一种用法，如果不需要那么麻烦的话两个参数就够，第一个和第二个，它会提供默认标题，但是如果你自己指定了标题，那就必须要给定第四个参数message type，不给报错。</p>
<p>&nbsp;</p>
<p>4. 关于检测输入内容，因为Java的变量必须要声明，所以连你自己都不知道变量类型的时候你就蛋疼了，对我就蛋疼过，搞不好之后还要疼几次。</p>
<p>　　这个程序里用的方法是百度来的，先把输入内容存成兼容性最强的String，然后见第23行，用ismatch方法加上正则表达式来检测。</p>
<p>　　不过简单的时候可以这样，什么时候我要检查一下输入的是不是byte或者float什么的我就傻逼了。</p>
<p>　　对了正则表达式里的反斜杠记得转义，因为这里需要的只是字符串形式的表达式，不是要直接用。</p>
<p>&nbsp;</p>
<p>5. 排版真难看，什么时候学学别人的。</p>
<p>&nbsp;</p>
<div class="cnblogs_code" onclick="cnblogs_code_show('c73257b5-b368-4859-9485-b4d2790c0dbb')"><img id="code_img_closed_c73257b5-b368-4859-9485-b4d2790c0dbb" class="code_img_closed" src="http://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif" alt="" /><img id="code_img_opened_c73257b5-b368-4859-9485-b4d2790c0dbb" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('c73257b5-b368-4859-9485-b4d2790c0dbb',event)" src="http://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif" alt="" />
<div id="cnblogs_code_open_c73257b5-b368-4859-9485-b4d2790c0dbb" class="cnblogs_code_hide">
<pre><span style="color: #008080;"> 1</span> <span style="color: #000000;">package NumberGuessing;
</span><span style="color: #008080;"> 2</span> 
<span style="color: #008080;"> 3</span> <span style="color: #000000;">import java.util.Random;
</span><span style="color: #008080;"> 4</span> <span style="color: #000000;">import javax.swing.JOptionPane;
</span><span style="color: #008080;"> 5</span> 
<span style="color: #008080;"> 6</span> <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">class</span><span style="color: #000000;"> Run {
</span><span style="color: #008080;"> 7</span>     <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">static</span> <span style="color: #0000ff;">void</span><span style="color: #000000;"> main(String[] args) {
</span><span style="color: #008080;"> 8</span>         
<span style="color: #008080;"> 9</span>         <span style="color: #008000;">//</span><span style="color: #008000;">生成100以下随机数。</span>
<span style="color: #008080;">10</span>         Random generator = <span style="color: #0000ff;">new</span><span style="color: #000000;"> Random();
</span><span style="color: #008080;">11</span>         <span style="color: #0000ff;">int</span> number = generator.nextInt(<span style="color: #800080;">100</span><span style="color: #000000;">);
</span><span style="color: #008080;">12</span>         
<span style="color: #008080;">13</span>         <span style="color: #0000ff;">int</span> count = <span style="color: #800080;">0</span><span style="color: #000000;">;
</span><span style="color: #008080;">14</span>         <span style="color: #0000ff;">int</span> guess = <span style="color: #800080;">0</span><span style="color: #000000;">;
</span><span style="color: #008080;">15</span>         String message = <span style="color: #800000;">"</span><span style="color: #800000;">嗟，来猜(0-100)：</span><span style="color: #800000;">"</span><span style="color: #000000;">;
</span><span style="color: #008080;">16</span>         
<span style="color: #008080;">17</span>         <span style="color: #0000ff;">while</span> (count &lt; <span style="color: #800080;">6</span><span style="color: #000000;">) {
</span><span style="color: #008080;">18</span>             
<span style="color: #008080;">19</span>             <span style="color: #008000;">//</span><span style="color: #008000;">接收玩家猜测内容。</span>
<span style="color: #008080;">20</span>             String temp = JOptionPane.showInputDialog(<span style="color: #0000ff;">null</span>, message ,<span style="color: #800000;">"</span><span style="color: #800000;">猜！第</span><span style="color: #800000;">"</span> + (count+<span style="color: #800080;">1</span>) + <span style="color: #800000;">"</span><span style="color: #800000;">次！</span><span style="color: #800000;">"</span><span style="color: #000000;">, JOptionPane.WARNING_MESSAGE);
</span><span style="color: #008080;">21</span>             
<span style="color: #008080;">22</span>             <span style="color: #008000;">//</span><span style="color: #008000;">判断输入类型，如果是空值或者非数字就continue掉。</span>
<span style="color: #008080;">23</span>             <span style="color: #0000ff;">if</span> (temp.length() == <span style="color: #800080;">0</span> || !temp.matches(<span style="color: #800000;">"</span><span style="color: #800000;">\\d*</span><span style="color: #800000;">"</span><span style="color: #000000;">)) {
</span><span style="color: #008080;">24</span>                 JOptionPane.showMessageDialog(<span style="color: #0000ff;">null</span>, <span style="color: #800000;">"</span><span style="color: #800000;">输！数！字！</span><span style="color: #800000;">"</span><span style="color: #000000;">);
</span><span style="color: #008080;">25</span>                 <span style="color: #0000ff;">continue</span><span style="color: #000000;">;
</span><span style="color: #008080;">26</span> <span style="color: #000000;">            }
</span><span style="color: #008080;">27</span>             
<span style="color: #008080;">28</span>             <span style="color: #008000;">//</span><span style="color: #008000;">输入的内容是String，用Integer类里的方法解析成int格式。</span>
<span style="color: #008080;">29</span>             guess =<span style="color: #000000;"> Integer.parseInt(temp);
</span><span style="color: #008080;">30</span>             
<span style="color: #008080;">31</span>             <span style="color: #008000;">//</span><span style="color: #008000;">if语句判断输入正误。</span>
<span style="color: #008080;">32</span>             <span style="color: #0000ff;">if</span> (guess ==<span style="color: #000000;"> number) {
</span><span style="color: #008080;">33</span>             JOptionPane.showMessageDialog(<span style="color: #0000ff;">null</span>, <span style="color: #800000;">"</span><span style="color: #800000;">居然猜中了，怎么可能，啊啊啊啊啊卡卡罗特你算计我！！！</span><span style="color: #800000;">"</span>, <span style="color: #800000;">"</span><span style="color: #800000;">hehe</span><span style="color: #800000;">"</span><span style="color: #000000;">,JOptionPane.WARNING_MESSAGE);
</span><span style="color: #008080;">34</span>                 <span style="color: #0000ff;">break</span><span style="color: #000000;">;
</span><span style="color: #008080;">35</span>             } <span style="color: #0000ff;">else</span> <span style="color: #0000ff;">if</span> (guess &gt;<span style="color: #000000;"> number) {
</span><span style="color: #008080;">36</span>                 message = <span style="color: #800000;">"</span><span style="color: #800000;">大了！再猜！</span><span style="color: #800000;">"</span><span style="color: #000000;">;
</span><span style="color: #008080;">37</span>             } <span style="color: #0000ff;">else</span><span style="color: #000000;"> {
</span><span style="color: #008080;">38</span>                 message = <span style="color: #800000;">"</span><span style="color: #800000;">小了！再猜！</span><span style="color: #800000;">"</span><span style="color: #000000;">;
</span><span style="color: #008080;">39</span> <span style="color: #000000;">            }
</span><span style="color: #008080;">40</span>             
<span style="color: #008080;">41</span>             count++<span style="color: #000000;">;
</span><span style="color: #008080;">42</span>             
<span style="color: #008080;">43</span>             <span style="color: #008000;">//</span><span style="color: #008000;">猜测次数用光，弹窗嘲讽。</span>
<span style="color: #008080;">44</span>             <span style="color: #0000ff;">if</span> (count == <span style="color: #800080;">6</span><span style="color: #000000;">) {
</span><span style="color: #008080;">45</span>                 JOptionPane.showMessageDialog(<span style="color: #0000ff;">null</span>, <span style="color: #800000;">"</span><span style="color: #800000;">嘿嘿你猜不着</span><span style="color: #800000;">"</span>, <span style="color: #800000;">"</span><span style="color: #800000;">有没有觉得智商受到了挑战</span><span style="color: #800000;">"</span><span style="color: #000000;">, JOptionPane.PLAIN_MESSAGE);
</span><span style="color: #008080;">46</span>                 <span style="color: #0000ff;">break</span><span style="color: #000000;">;
</span><span style="color: #008080;">47</span> <span style="color: #000000;">            }
</span><span style="color: #008080;">48</span> <span style="color: #000000;">        }
</span><span style="color: #008080;">49</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">50</span> }</pre>
</div>
<span class="cnblogs_code_collapse">折叠代码</span></div>
<p>&nbsp;</p>

<div align=right><a href="https://github.com/mlxy"><font size=1>——本文由博客园搬家工具SRBCnblogs转换而成</font></a></div>