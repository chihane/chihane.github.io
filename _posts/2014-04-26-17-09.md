---
layout: post
title: 把选城市的方法改成了BUG，不，列表
date: 2014-04-26 17:09:00
categories: cnblogs
---

<p>具体情况还是看Github的更新履历：https://github.com/mlxy/NCWeather/commits/master</p>
<p>&nbsp;</p>
<p>总之就是把之前练习过的东西加进去了，告别了相处没几天的对话框。</p>
<p>点了城市名之后弹出一个省份列表，点了省份弹出城市列表。</p>
<p>&nbsp;</p>
<p>用的方法是startActivityForResult(Intent, RequestCode)，传入一个intent参数表示我不但要启动你，我还要你给我返回信息。</p>
<p>然后另一边就用setResult(ResultCode, Intent)方法加上finish()来传回信息，前者传入一个intent参数，里面放好要传回的信息。</p>
<p>上级为了处理下级传回的信息，就需要重写onActivityResult(RequestCode, ResultCode, Intent)方法，里面不需要调用父类函数，直接删光重新写，这个方法有三个参数，前两个请不要太在意，重点是第三个，第三个是下级传回来的intent，在用之前可以检查一下是不是空值，是的话就直接return。</p>
<p>&nbsp;</p>
<p>Request Code和ResultCode这两个东西其实是有三个常量的，不过因为用不好会出错，所以请尽管用12345来代替。请一定要用其他数字来代替。</p>
<p>不同的数字可以表示不同的来源，用一下Switch就可以让一个Activity接受多个信息源。</p>
<p>&nbsp;</p>
<p>这是Activity之间通信的方法之一。</p>

<div align=right><a href="https://github.com/mlxy/SRBCnblogs"><font size=1>——本文由博客园搬家工具SRBCnblogs转换而成</font></a></div>