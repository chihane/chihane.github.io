---
layout: post
title: 六月雨
date: 2015-03-11 02:46:00
categories: cnblogs
---

<p>这次要解决的问题是eclipse的驼峰提示。</p>
<p>比如想输入一个public String test = "test";</p>
<p>在输入test的过程中，eclipse会不停提示问你是不是想要tString、teString、tesString和testString。</p>
<p>尤其是如果没有提前做过我前面那篇五月蝇里的工作，你敲的等号前的那个空格的时候这个testString就直接上屏了，特别恶心。</p>
<p>谁这么起变量名的你告诉我。</p>
<p>&nbsp;</p>
<p>于是这次要改的是org.eclipse.jdt.core这个插件。</p>
<p>在源码里找到org.eclipse.jdt.internal.codeassist包里的CompletionEngine，在11530行有这么一段：</p>
<div class="cnblogs_code">
<pre><span style="color: #0000ff;">final</span> <span style="color: #0000ff;">char</span>[] t =<span style="color: #000000;"> token;
</span><span style="color: #0000ff;">final</span> <span style="color: #0000ff;">char</span>[] q =<span style="color: #000000;"> qualifiedPackageName;
INamingRequestor namingRequestor </span>= <span style="color: #0000ff;">new</span><span style="color: #000000;"> INamingRequestor() {
    </span><span style="color: #0000ff;">void</span> accept(<span style="color: #0000ff;">char</span>[] name, <span style="color: #0000ff;">int</span> prefixAndSuffixRelevance, <span style="color: #0000ff;">int</span><span style="color: #000000;"> reusedCharacters){
        </span><span style="color: #0000ff;">int</span> l = forbiddenNames == <span style="color: #0000ff;">null</span> ? 0<span style="color: #000000;"> : forbiddenNames.length;
        </span><span style="color: #0000ff;">for</span> (<span style="color: #0000ff;">int</span> i = 0; i &lt; l; i++<span style="color: #000000;">) {
            </span><span style="color: #0000ff;">if</span> (CharOperation.equals(forbiddenNames[i], name, <span style="color: #0000ff;">false</span>)) <span style="color: #0000ff;">return</span><span style="color: #000000;">;
        }</span></pre>
</div>
<p>可以的话还是尽量用搜索来找吧。</p>
<p>&nbsp;</p>
<p>然后在accept方法刚开始的地方把name给清空：</p>
<div class="cnblogs_code">
<pre><span style="color: #0000ff;">final</span> <span style="color: #0000ff;">char</span>[] t =<span style="color: #000000;"> token;
</span><span style="color: #0000ff;">final</span> <span style="color: #0000ff;">char</span>[] q =<span style="color: #000000;"> qualifiedPackageName;
INamingRequestor namingRequestor </span>= <span style="color: #0000ff;">new</span><span style="color: #000000;"> INamingRequestor() {
    </span><span style="color: #0000ff;">void</span> accept(<span style="color: #0000ff;">char</span>[] name, <span style="color: #0000ff;">int</span> prefixAndSuffixRelevance, <span style="color: #0000ff;">int</span><span style="color: #000000;"> reusedCharacters){
        
        </span><span style="color: #008000;">//</span><span style="color: #008000;"> 像这样。</span>
        name = <span style="color: #0000ff;">new</span> <span style="color: #0000ff;">char</span><span style="color: #000000;">[] {};
        
        </span><span style="color: #0000ff;">int</span> l = forbiddenNames == <span style="color: #0000ff;">null</span> ? 0<span style="color: #000000;"> : forbiddenNames.length;
        </span><span style="color: #0000ff;">for</span> (<span style="color: #0000ff;">int</span> i = 0; i &lt; l; i++<span style="color: #000000;">) {
            </span><span style="color: #0000ff;">if</span> (CharOperation.equals(forbiddenNames[i], name, <span style="color: #0000ff;">false</span>)) <span style="color: #0000ff;">return</span><span style="color: #000000;">;
        }</span></pre>
</div>
<p>&nbsp;</p>
<p>之后像之前一样导出解压覆盖就搞定了。</p>
<p>&nbsp;</p>
<p>萨拉吧驼峰提示哟。</p>

<p align=right><span style="font-size: 12px">——本文由博客园搬家工具<a href="https://github.com/mlxy/SRBCnblogs">SRBCnblogs</a>转换而成</span></p>