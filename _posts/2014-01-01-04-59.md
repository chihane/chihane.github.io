---
layout: post
title: 专注写记事本三十年
date: 2014-01-01 04:59:00
categories: cnblogs
---

<p>　　<a href="http://files.cnblogs.com/JavaForNow/jLowNote.rar">惯例发个JAR</a></p>
<p>　　这么个玩意也加了rr3，我太看得起自己了。</p>
<p>　　</p>
<p>　　1. 元件JTextField只支持单行内容，要换行得用JTextArea，JTextPane干啥用的我也不知道。</p>
<p>　　2. 其实要知道元件都有什么功能，打上setget试试就行了。不过还是记两个吧。</p>
<p>　　3. 文本类元件有个方法，setEditable(boolean flag)。如字面意思，决定能不能编辑。在这个软件里用在文件路径显示上，这次就不这么蛋疼让用户自己输入路径了。</p>
<p>　　4. 文本区有个方法文本域没有，就是换行(setLineWrap(boolean flag))，因为文本域不能换行。参数用false的话文本区就也不能换行了。</p>
<p>　　5. 接上条，还有个补充方法，setWrapStyleWord(boolean flag)，决定要不要以空格为分界，也就是以单词为单位换行，true了比较好看。</p>
<p>&nbsp;</p>
<p>　　6. 布局不是问题，跟Python的基本一致，从小面板开始拼，然后把小面板add进大面板，不过把最后的大面板嵌进框架里的时候默认是没有边距的，也就是说是整个顶在窗口四边上，所以得记得给大面板setBorder(Border border)。新建Border有点麻烦，要用BorderFactory类里的createEmptyBorder(1234)方法，这个方法接受四个参数，就是四个边距，顺序不知道，不过多数时候四个数都一样，所以用得着的时候再研究吧。</p>
<p>　　7. setBackground(Color c)方法就不用说了吧，不重用的话直接在参数里边new一个颜色就行了，可惜Color类不能直接用十六进制数定义颜色，只能接受三个0-255的RGB值。</p>
<p>　　8. 布局管理器有三种，FlowLayout有点蛋疼，说下GridLayout和BorderLayout。</p>
<p>　　9. GridLayout如字面意思，构造的时候用两个参数定好行列数，再加两个参数的话就是横竖方向上的元件间隔，默认是0。</p>
<p>　　10. BorderLayout的排列方式是分成东西南北中五块，南北块能左右扩大，东西块能上下扩大，中间的横竖都可以扩大，所以把文本框放在中间。五块的定义是BorderLayout里边的final static变量，中间是BorderLayout.CENTER，东西南北类推。在add的时候多加一个参数指定元件放的位置。</p>
<p>&nbsp;</p>
<p>　　11. 补一个JFrame实例的方法，setMinimumSize(Dimension d)，用来限制窗口的最小大小，Dimension可以直接用横竖像素数来构造。不过setMaximumSize()限制不了最大窗口大小，不知道为啥&hellip;&hellip;</p>
<p>&nbsp;</p>
<p>　　12. 还有个元件，JFileChooser，用来新建一个文件选择窗口。</p>
<p>　　13. setFileSelectionMode(arg)决定是能选文件还是目录还是文件目录都可以。参数是常量，FILES_ONLY，DIRECTORIES_ONLY，FILES_AND_DIRECTORIES，三选一。</p>
<p>　　14. setMultiSelectionEnabled(boolean flag)，决定能不能多选。</p>
<p>　　15. 最后用showXXXXDialog(Component parent)，XXXX处用Save或者Open，懂。直接省略的话还能接受第二个参数，字符串表示的按钮文本。这个方法返回一个int，不过其实也就是一个常量。确定选项的常量叫JFileChooser.APPROVE_OPTION，取消的话反正窗口就关了，直接用else就是了。大概就叫CANCEL_OPTION啦&hellip;&hellip;</p>
<p>　　16. getSelectedFile()方法返回双击或确定选择的文件，File类型，很方便。</p>
<p>&nbsp;</p>
<p>　　17. 至于import&hellip;&hellip;直接用星号导入啦&hellip;&hellip;</p>
<p>　　18. 对了忘说了，框架类直接就继承JFrame就行了，要用的时候new一下。</p>
<p>　　19. new完了还要设置一些基本属性。setTitle(String s)设置标题栏的内容。setSize(int x, int y)设置窗口大小。setLocationRelativeTo(Component c)设置&hellip;&hellip;设置什么我也不知道，反正参数用null就是居中框架。setDefaultCloseOperation(int blah)设置标准关闭时的动作，别想太多，用常量JFrame.EXIT_ON_CLOSE。</p>
<p>　　20. 最后用setVisible(boolean flag)使框架可见，就成啦。</p>
<p>&nbsp;</p>
<div class="cnblogs_code" onclick="cnblogs_code_show('050d2111-e854-4455-8839-9d06a8b1e9b0')"><img id="code_img_closed_050d2111-e854-4455-8839-9d06a8b1e9b0" class="code_img_closed" src="http://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif" alt="" /><img id="code_img_opened_050d2111-e854-4455-8839-9d06a8b1e9b0" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('050d2111-e854-4455-8839-9d06a8b1e9b0',event)" src="http://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif" alt="" />
<div id="cnblogs_code_open_050d2111-e854-4455-8839-9d06a8b1e9b0" class="cnblogs_code_hide">
<pre><span style="color: #008080;">  1</span> <span style="color: #0000ff;">package</span><span style="color: #000000;"> jLowNote;
</span><span style="color: #008080;">  2</span> 
<span style="color: #008080;">  3</span> <span style="color: #0000ff;">import</span> java.awt.*<span style="color: #000000;">;
</span><span style="color: #008080;">  4</span> <span style="color: #0000ff;">import</span> java.awt.event.*<span style="color: #000000;">;
</span><span style="color: #008080;">  5</span> 
<span style="color: #008080;">  6</span> <span style="color: #0000ff;">import</span> javax.swing.*<span style="color: #000000;">;
</span><span style="color: #008080;">  7</span> 
<span style="color: #008080;">  8</span> <span style="color: #0000ff;">import</span> java.io.*<span style="color: #000000;">;
</span><span style="color: #008080;">  9</span> 
<span style="color: #008080;"> 10</span> <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">class</span> MainFrame <span style="color: #0000ff;">extends</span><span style="color: #000000;"> JFrame {
</span><span style="color: #008080;"> 11</span>     <span style="color: #0000ff;">private</span> <span style="color: #0000ff;">static</span> <span style="color: #0000ff;">final</span> <span style="color: #0000ff;">long</span> serialVersionUID = -5276129912800884818L<span style="color: #000000;">;
</span><span style="color: #008080;"> 12</span>     <span style="color: #0000ff;">private</span><span style="color: #000000;"> File fileOpened;
</span><span style="color: #008080;"> 13</span>     <span style="color: #0000ff;">private</span><span style="color: #000000;"> JTextField filePath;
</span><span style="color: #008080;"> 14</span>     <span style="color: #0000ff;">private</span><span style="color: #000000;"> JTextArea content;
</span><span style="color: #008080;"> 15</span>     <span style="color: #0000ff;">private</span><span style="color: #000000;"> JButton newButton;
</span><span style="color: #008080;"> 16</span>     <span style="color: #0000ff;">private</span><span style="color: #000000;"> JButton openButton;
</span><span style="color: #008080;"> 17</span>     <span style="color: #0000ff;">private</span><span style="color: #000000;"> JButton saveButton;
</span><span style="color: #008080;"> 18</span>     <span style="color: #0000ff;">private</span><span style="color: #000000;"> JButton exitButton;
</span><span style="color: #008080;"> 19</span>     
<span style="color: #008080;"> 20</span>     <span style="color: #0000ff;">public</span><span style="color: #000000;"> MainFrame() {
</span><span style="color: #008080;"> 21</span>         fileOpened = <span style="color: #0000ff;">new</span> File("."<span style="color: #000000;">);
</span><span style="color: #008080;"> 22</span>         
<span style="color: #008080;"> 23</span>         <span style="color: #008000;">//</span><span style="color: #008000;">按钮部分面板。</span>
<span style="color: #008080;"> 24</span>         JPanel buttonPanel = <span style="color: #0000ff;">new</span> JPanel(<span style="color: #0000ff;">new</span> GridLayout(0, 4, 5, 5<span style="color: #000000;">));
</span><span style="color: #008080;"> 25</span>         
<span style="color: #008080;"> 26</span>         <span style="color: #008000;">//</span><span style="color: #008000;">布局按钮。</span>
<span style="color: #008080;"> 27</span>         newButton = <span style="color: #0000ff;">new</span> JButton("新建"<span style="color: #000000;">);
</span><span style="color: #008080;"> 28</span>         openButton = <span style="color: #0000ff;">new</span> JButton("打开"<span style="color: #000000;">);
</span><span style="color: #008080;"> 29</span>         saveButton = <span style="color: #0000ff;">new</span> JButton("保存"<span style="color: #000000;">);
</span><span style="color: #008080;"> 30</span>         exitButton = <span style="color: #0000ff;">new</span> JButton("退出"<span style="color: #000000;">);
</span><span style="color: #008080;"> 31</span>         newButton.addActionListener(<span style="color: #0000ff;">new</span> NewListener(<span style="color: #0000ff;">this</span><span style="color: #000000;">));
</span><span style="color: #008080;"> 32</span>         openButton.addActionListener(<span style="color: #0000ff;">new</span> OpenListener(<span style="color: #0000ff;">this</span><span style="color: #000000;">));
</span><span style="color: #008080;"> 33</span>         saveButton.addActionListener(<span style="color: #0000ff;">new</span> SaveListener(<span style="color: #0000ff;">this</span><span style="color: #000000;">));
</span><span style="color: #008080;"> 34</span>         exitButton.addActionListener(<span style="color: #0000ff;">new</span><span style="color: #000000;"> ExitListener());
</span><span style="color: #008080;"> 35</span>         <span style="color: #008000;">//</span><span style="color: #008000;">等会补上监听器。</span>
<span style="color: #008080;"> 36</span>         
<span style="color: #008080;"> 37</span> <span style="color: #000000;">        buttonPanel.add(newButton);
</span><span style="color: #008080;"> 38</span> <span style="color: #000000;">        buttonPanel.add(openButton);
</span><span style="color: #008080;"> 39</span> <span style="color: #000000;">        buttonPanel.add(saveButton);
</span><span style="color: #008080;"> 40</span> <span style="color: #000000;">        buttonPanel.add(exitButton);
</span><span style="color: #008080;"> 41</span>         buttonPanel.setBackground(<span style="color: #0000ff;">new</span> Color(66, 204, 255<span style="color: #000000;">));
</span><span style="color: #008080;"> 42</span>         
<span style="color: #008080;"> 43</span>         <span style="color: #008000;">//</span><span style="color: #008000;">=================================================
</span><span style="color: #008080;"> 44</span>         
<span style="color: #008080;"> 45</span>         <span style="color: #008000;">//</span><span style="color: #008000;">文件操作面板。</span>
<span style="color: #008080;"> 46</span>         JPanel filePanel = <span style="color: #0000ff;">new</span> JPanel(<span style="color: #0000ff;">new</span> BorderLayout(5, 5<span style="color: #000000;">));
</span><span style="color: #008080;"> 47</span>         
<span style="color: #008080;"> 48</span>         <span style="color: #008000;">//</span><span style="color: #008000;">布局。</span>
<span style="color: #008080;"> 49</span>         filePath = <span style="color: #0000ff;">new</span> JTextField("文件路径"<span style="color: #000000;">);
</span><span style="color: #008080;"> 50</span>         filePath.setEditable(<span style="color: #0000ff;">false</span><span style="color: #000000;">);
</span><span style="color: #008080;"> 51</span>         
<span style="color: #008080;"> 52</span> <span style="color: #000000;">        filePanel.add(filePath, BorderLayout.CENTER);
</span><span style="color: #008080;"> 53</span> <span style="color: #000000;">        filePanel.add(buttonPanel, BorderLayout.EAST);
</span><span style="color: #008080;"> 54</span>         filePanel.setBackground(<span style="color: #0000ff;">new</span> Color(66, 204, 255<span style="color: #000000;">));
</span><span style="color: #008080;"> 55</span>         
<span style="color: #008080;"> 56</span>         <span style="color: #008000;">//</span><span style="color: #008000;">=================================================
</span><span style="color: #008080;"> 57</span>         
<span style="color: #008080;"> 58</span>         <span style="color: #008000;">//</span><span style="color: #008000;">总体面板。</span>
<span style="color: #008080;"> 59</span>         JPanel overallPanel = <span style="color: #0000ff;">new</span> JPanel(<span style="color: #0000ff;">new</span> BorderLayout(5, 5<span style="color: #000000;">));
</span><span style="color: #008080;"> 60</span>         
<span style="color: #008080;"> 61</span>         <span style="color: #008000;">//</span><span style="color: #008000;">布局。</span>
<span style="color: #008080;"> 62</span>         content = <span style="color: #0000ff;">new</span><span style="color: #000000;"> JTextArea();
</span><span style="color: #008080;"> 63</span>         content.setLineWrap(<span style="color: #0000ff;">true</span><span style="color: #000000;">);
</span><span style="color: #008080;"> 64</span>         content.setWrapStyleWord(<span style="color: #0000ff;">true</span><span style="color: #000000;">);
</span><span style="color: #008080;"> 65</span>         
<span style="color: #008080;"> 66</span> <span style="color: #000000;">        overallPanel.add(filePanel, BorderLayout.NORTH);
</span><span style="color: #008080;"> 67</span> <span style="color: #000000;">        overallPanel.add(content, BorderLayout.CENTER);
</span><span style="color: #008080;"> 68</span>         overallPanel.setBorder(BorderFactory.createEmptyBorder(5, 5, 5, 5<span style="color: #000000;">));
</span><span style="color: #008080;"> 69</span>         overallPanel.setBackground(<span style="color: #0000ff;">new</span> Color(66, 204, 255<span style="color: #000000;">));
</span><span style="color: #008080;"> 70</span>         
<span style="color: #008080;"> 71</span>         <span style="color: #008000;">//</span><span style="color: #008000;">=================================================</span>
<span style="color: #008080;"> 72</span>         
<span style="color: #008080;"> 73</span>         <span style="color: #0000ff;">this</span><span style="color: #000000;">.add(overallPanel);
</span><span style="color: #008080;"> 74</span>         <span style="color: #0000ff;">this</span>.setMinimumSize(<span style="color: #0000ff;">new</span> Dimension(400, 300<span style="color: #000000;">));
</span><span style="color: #008080;"> 75</span> <span style="color: #000000;">    }
</span><span style="color: #008080;"> 76</span>     
<span style="color: #008080;"> 77</span>     <span style="color: #0000ff;">public</span> JTextField getPathField() {<span style="color: #0000ff;">return</span> <span style="color: #0000ff;">this</span><span style="color: #000000;">.filePath;}
</span><span style="color: #008080;"> 78</span>     <span style="color: #0000ff;">public</span> JTextArea getContentArea() {<span style="color: #0000ff;">return</span> <span style="color: #0000ff;">this</span><span style="color: #000000;">.content;}
</span><span style="color: #008080;"> 79</span>     <span style="color: #0000ff;">public</span> File getFileOpened() {<span style="color: #0000ff;">return</span> <span style="color: #0000ff;">this</span><span style="color: #000000;">.fileOpened;}
</span><span style="color: #008080;"> 80</span>     <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">void</span> setFileOpened(File file) {<span style="color: #0000ff;">this</span>.fileOpened =<span style="color: #000000;"> file;}
</span><span style="color: #008080;"> 81</span> <span style="color: #000000;">}
</span><span style="color: #008080;"> 82</span> 
<span style="color: #008080;"> 83</span> <span style="color: #008000;">/**</span><span style="color: #008000;">新建按钮的事件监听器。</span><span style="color: #008000;">*/</span>
<span style="color: #008080;"> 84</span> <span style="color: #0000ff;">class</span> NewListener <span style="color: #0000ff;">implements</span><span style="color: #000000;"> ActionListener {
</span><span style="color: #008080;"> 85</span> <span style="color: #000000;">    MainFrame parent;
</span><span style="color: #008080;"> 86</span>     
<span style="color: #008080;"> 87</span>     NewListener(MainFrame parent) {<span style="color: #0000ff;">this</span>.parent =<span style="color: #000000;"> parent;}
</span><span style="color: #008080;"> 88</span>     
<span style="color: #008080;"> 89</span>     <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">void</span><span style="color: #000000;"> actionPerformed(ActionEvent e) {
</span><span style="color: #008080;"> 90</span>         parent.getPathField().setText("一个新文件(记得保存哦)"<span style="color: #000000;">);
</span><span style="color: #008080;"> 91</span>         parent.getContentArea().setText(""<span style="color: #000000;">);
</span><span style="color: #008080;"> 92</span>         parent.setFileOpened(<span style="color: #0000ff;">new</span> File("."<span style="color: #000000;">));
</span><span style="color: #008080;"> 93</span> <span style="color: #000000;">    }
</span><span style="color: #008080;"> 94</span> <span style="color: #000000;">}
</span><span style="color: #008080;"> 95</span> 
<span style="color: #008080;"> 96</span> <span style="color: #008000;">/**</span><span style="color: #008000;">打开按钮的事件监听器。</span><span style="color: #008000;">*/</span>
<span style="color: #008080;"> 97</span> <span style="color: #0000ff;">class</span> OpenListener <span style="color: #0000ff;">implements</span><span style="color: #000000;"> ActionListener {
</span><span style="color: #008080;"> 98</span> <span style="color: #000000;">    MainFrame parent;
</span><span style="color: #008080;"> 99</span>     
<span style="color: #008080;">100</span>     OpenListener(MainFrame parent) {<span style="color: #0000ff;">this</span>.parent =<span style="color: #000000;"> parent;}
</span><span style="color: #008080;">101</span>     
<span style="color: #008080;">102</span> <span style="color: #000000;">    @Override
</span><span style="color: #008080;">103</span>     <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">void</span><span style="color: #000000;"> actionPerformed(ActionEvent e) {
</span><span style="color: #008080;">104</span>         <span style="color: #008000;">//</span><span style="color: #008000;">选择文件。</span>
<span style="color: #008080;">105</span>         JFileChooser fileChooser = <span style="color: #0000ff;">new</span><span style="color: #000000;"> JFileChooser();
</span><span style="color: #008080;">106</span> <span style="color: #000000;">        fileChooser.setFileSelectionMode(JFileChooser.FILES_ONLY);
</span><span style="color: #008080;">107</span>         fileChooser.setMultiSelectionEnabled(<span style="color: #0000ff;">false</span><span style="color: #000000;">);
</span><span style="color: #008080;">108</span> <span style="color: #000000;">        fileChooser.setCurrentDirectory(parent.getFileOpened());
</span><span style="color: #008080;">109</span>         <span style="color: #0000ff;">if</span> (fileChooser.showOpenDialog(parent) ==<span style="color: #000000;"> JFileChooser.APPROVE_OPTION) {
</span><span style="color: #008080;">110</span> <span style="color: #000000;">            parent.setFileOpened(fileChooser.getSelectedFile());
</span><span style="color: #008080;">111</span>         } <span style="color: #0000ff;">else</span><span style="color: #000000;"> {
</span><span style="color: #008080;">112</span>             <span style="color: #0000ff;">return</span><span style="color: #000000;">;
</span><span style="color: #008080;">113</span> <span style="color: #000000;">        }
</span><span style="color: #008080;">114</span>         
<span style="color: #008080;">115</span>         <span style="color: #008000;">//</span><span style="color: #008000;">读取文件内容后向文本框一次性写入。</span>
<span style="color: #008080;">116</span> <span style="color: #000000;">        parent.getPathField().setText(parent.getFileOpened().getAbsolutePath());
</span><span style="color: #008080;">117</span>         
<span style="color: #008080;">118</span>         <span style="color: #0000ff;">try</span><span style="color: #000000;"> {
</span><span style="color: #008080;">119</span>             InputStreamReader in = <span style="color: #0000ff;">new</span> InputStreamReader(<span style="color: #0000ff;">new</span> FileInputStream(parent.getFileOpened()), "GBK"<span style="color: #000000;">);
</span><span style="color: #008080;">120</span>             BufferedReader reader = <span style="color: #0000ff;">new</span><span style="color: #000000;"> BufferedReader(in);
</span><span style="color: #008080;">121</span> <span style="color: #000000;">            String s;
</span><span style="color: #008080;">122</span>             StringBuffer sb = <span style="color: #0000ff;">new</span> StringBuffer(""<span style="color: #000000;">);
</span><span style="color: #008080;">123</span>             <span style="color: #0000ff;">while</span> ((s = reader.readLine()) != <span style="color: #0000ff;">null</span><span style="color: #000000;">) {
</span><span style="color: #008080;">124</span>                 sb.append(s + "\n"<span style="color: #000000;">);
</span><span style="color: #008080;">125</span> <span style="color: #000000;">            }
</span><span style="color: #008080;">126</span> <span style="color: #000000;">            parent.getContentArea().setText(sb.toString());
</span><span style="color: #008080;">127</span> <span style="color: #000000;">            reader.close();
</span><span style="color: #008080;">128</span>         } <span style="color: #0000ff;">catch</span><span style="color: #000000;"> (FileNotFoundException ex) {
</span><span style="color: #008080;">129</span> <span style="color: #000000;">            ex.printStackTrace();
</span><span style="color: #008080;">130</span>         } <span style="color: #0000ff;">catch</span><span style="color: #000000;"> (IOException ioe) {
</span><span style="color: #008080;">131</span> <span style="color: #000000;">            ioe.printStackTrace();
</span><span style="color: #008080;">132</span> <span style="color: #000000;">        }
</span><span style="color: #008080;">133</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">134</span> <span style="color: #000000;">}
</span><span style="color: #008080;">135</span> 
<span style="color: #008080;">136</span> <span style="color: #008000;">/**</span><span style="color: #008000;">保存按钮的事件监听器。</span><span style="color: #008000;">*/</span>
<span style="color: #008080;">137</span> <span style="color: #0000ff;">class</span> SaveListener <span style="color: #0000ff;">implements</span><span style="color: #000000;"> ActionListener {
</span><span style="color: #008080;">138</span> <span style="color: #000000;">    MainFrame parent;
</span><span style="color: #008080;">139</span>     
<span style="color: #008080;">140</span>     SaveListener(MainFrame parent) {<span style="color: #0000ff;">this</span>.parent =<span style="color: #000000;"> parent;}
</span><span style="color: #008080;">141</span>     
<span style="color: #008080;">142</span> <span style="color: #000000;">    @Override
</span><span style="color: #008080;">143</span>     <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">void</span><span style="color: #000000;"> actionPerformed(ActionEvent e) {
</span><span style="color: #008080;">144</span>         File fileToWrite = <span style="color: #0000ff;">null</span><span style="color: #000000;">;
</span><span style="color: #008080;">145</span>         
<span style="color: #008080;">146</span>         <span style="color: #008000;">//</span><span style="color: #008000;">如果已经打开了文件，要编辑的就是已打开的文件，否则就弹窗让用户选择或新建。</span>
<span style="color: #008080;">147</span>         <span style="color: #0000ff;">if</span><span style="color: #000000;"> (parent.getFileOpened().isFile()) {
</span><span style="color: #008080;">148</span>             fileToWrite =<span style="color: #000000;"> parent.getFileOpened();
</span><span style="color: #008080;">149</span>         } <span style="color: #0000ff;">else</span><span style="color: #000000;"> {
</span><span style="color: #008080;">150</span>             JFileChooser fileChooser = <span style="color: #0000ff;">new</span><span style="color: #000000;"> JFileChooser();
</span><span style="color: #008080;">151</span> <span style="color: #000000;">            fileChooser.setCurrentDirectory(parent.getFileOpened());
</span><span style="color: #008080;">152</span> <span style="color: #000000;">            fileChooser.setFileSelectionMode(JFileChooser.FILES_ONLY);
</span><span style="color: #008080;">153</span>             fileChooser.setMultiSelectionEnabled(<span style="color: #0000ff;">false</span><span style="color: #000000;">);
</span><span style="color: #008080;">154</span>             <span style="color: #0000ff;">if</span> (fileChooser.showSaveDialog(parent) ==<span style="color: #000000;"> JFileChooser.APPROVE_OPTION) {
</span><span style="color: #008080;">155</span>                 fileToWrite =<span style="color: #000000;"> fileChooser.getSelectedFile();
</span><span style="color: #008080;">156</span>             } <span style="color: #0000ff;">else</span><span style="color: #000000;"> {
</span><span style="color: #008080;">157</span>                 <span style="color: #0000ff;">return</span><span style="color: #000000;">;
</span><span style="color: #008080;">158</span> <span style="color: #000000;">            }
</span><span style="color: #008080;">159</span>             
<span style="color: #008080;">160</span>             <span style="color: #008000;">//</span><span style="color: #008000;">可以自行输入文件名来创建新文件。</span>
<span style="color: #008080;">161</span>             <span style="color: #0000ff;">try</span><span style="color: #000000;"> {
</span><span style="color: #008080;">162</span>                 <span style="color: #0000ff;">if</span> (!<span style="color: #000000;">fileToWrite.exists())
</span><span style="color: #008080;">163</span> <span style="color: #000000;">                    fileToWrite.createNewFile();
</span><span style="color: #008080;">164</span>             } <span style="color: #0000ff;">catch</span><span style="color: #000000;"> (IOException ex) {
</span><span style="color: #008080;">165</span> <span style="color: #000000;">                ex.printStackTrace();
</span><span style="color: #008080;">166</span> <span style="color: #000000;">            }
</span><span style="color: #008080;">167</span> <span style="color: #000000;">        }
</span><span style="color: #008080;">168</span>         
<span style="color: #008080;">169</span>         <span style="color: #008000;">//</span><span style="color: #008000;">读取文本框内容并向文件中写入。</span>
<span style="color: #008080;">170</span>         <span style="color: #0000ff;">try</span><span style="color: #000000;"> {
</span><span style="color: #008080;">171</span>             OutputStreamWriter out = <span style="color: #0000ff;">new</span> OutputStreamWriter(<span style="color: #0000ff;">new</span><span style="color: #000000;"> FileOutputStream(fileToWrite));
</span><span style="color: #008080;">172</span>             BufferedWriter writer = <span style="color: #0000ff;">new</span><span style="color: #000000;"> BufferedWriter(out);
</span><span style="color: #008080;">173</span> <span style="color: #000000;">            writer.write(parent.getContentArea().getText());
</span><span style="color: #008080;">174</span> <span style="color: #000000;">            writer.close();
</span><span style="color: #008080;">175</span>         } <span style="color: #0000ff;">catch</span><span style="color: #000000;"> (IOException ex) {
</span><span style="color: #008080;">176</span> <span style="color: #000000;">            ex.printStackTrace();
</span><span style="color: #008080;">177</span> <span style="color: #000000;">        }
</span><span style="color: #008080;">178</span>         
<span style="color: #008080;">179</span>         JOptionPane.showMessageDialog(parent, "文件已保存。", "保存文件"<span style="color: #000000;">, JOptionPane.PLAIN_MESSAGE);
</span><span style="color: #008080;">180</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">181</span> <span style="color: #000000;">}
</span><span style="color: #008080;">182</span> 
<span style="color: #008080;">183</span> <span style="color: #008000;">/**</span><span style="color: #008000;">退出按钮的事件监听器。</span><span style="color: #008000;">*/</span>
<span style="color: #008080;">184</span> <span style="color: #0000ff;">class</span> ExitListener <span style="color: #0000ff;">implements</span><span style="color: #000000;"> ActionListener {
</span><span style="color: #008080;">185</span> <span style="color: #000000;">    @Override
</span><span style="color: #008080;">186</span>     <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">void</span><span style="color: #000000;"> actionPerformed(ActionEvent e) {
</span><span style="color: #008080;">187</span>         System.exit(0<span style="color: #000000;">);
</span><span style="color: #008080;">188</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">189</span> }</pre>
</div>
<span class="cnblogs_code_collapse">MainFrame及事件监听器</span></div>
<div class="cnblogs_code" onclick="cnblogs_code_show('be94cc9f-be10-4444-aed9-dd1f78c2c238')"><img id="code_img_closed_be94cc9f-be10-4444-aed9-dd1f78c2c238" class="code_img_closed" src="http://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif" alt="" /><img id="code_img_opened_be94cc9f-be10-4444-aed9-dd1f78c2c238" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('be94cc9f-be10-4444-aed9-dd1f78c2c238',event)" src="http://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif" alt="" />
<div id="cnblogs_code_open_be94cc9f-be10-4444-aed9-dd1f78c2c238" class="cnblogs_code_hide">
<pre><span style="color: #008080;"> 1</span> <span style="color: #0000ff;">package</span><span style="color: #000000;"> jLowNote;
</span><span style="color: #008080;"> 2</span> 
<span style="color: #008080;"> 3</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> javax.swing.JFrame;
</span><span style="color: #008080;"> 4</span> 
<span style="color: #008080;"> 5</span> <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">class</span><span style="color: #000000;"> Run {
</span><span style="color: #008080;"> 6</span>     <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">static</span> <span style="color: #0000ff;">void</span><span style="color: #000000;"> main(String[] args) {
</span><span style="color: #008080;"> 7</span>         MainFrame frame = <span style="color: #0000ff;">new</span><span style="color: #000000;"> MainFrame();
</span><span style="color: #008080;"> 8</span>         frame.setTitle("低端笔记本Java版"<span style="color: #000000;">);
</span><span style="color: #008080;"> 9</span>         frame.setSize(640, 480<span style="color: #000000;">);
</span><span style="color: #008080;">10</span>         frame.setLocationRelativeTo(<span style="color: #0000ff;">null</span><span style="color: #000000;">);
</span><span style="color: #008080;">11</span> <span style="color: #000000;">        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
</span><span style="color: #008080;">12</span>         frame.setVisible(<span style="color: #0000ff;">true</span><span style="color: #000000;">);
</span><span style="color: #008080;">13</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">14</span> }</pre>
</div>
<span class="cnblogs_code_collapse">Run</span></div>
<p>&nbsp;</p>

<p align=right><span style="font-size: 12px">——本文由博客园搬家工具<a href="https://github.com/mlxy/SRBCnblogs">SRBCnblogs</a>转换而成</span></p>