---
layout: post
title: 记一下Comparable接口，将来大概用得着
date: 2013-12-07 09:48:00
categories: cnblogs
---

<p>能排序的类最好都实现它，可以实现自定义排序方法。</p>
<p>比如写个类叫屎，将来要排序的话，希望它按照营养含量排序，就需要实现这个方法，因为java本身不知道该怎么排序。</p>
<p>&nbsp;</p>
<p>Comparable接口里只有一个方法，叫compareTo(Object obj)。</p>
<p>重写这个方法的时候记得先把形参obj转换成自己的类型，比如 Shit s = (Shit) obj。不然Object看不到子类的属性。</p>
<p>然后需要有返回值，类型int，大于零说明这个大，其他类推。</p>
<p>&nbsp;</p>
<p>目前只发现了在排序里的用法，已经很有用了，在别处应该还有别的用法，将来自然会知道。</p>
<p>比如新建一个Shit类型的数组，里面初始化几个对象，然后调用一下sort()方法，就按照营养含量排序了，根据compareTo()方法的内容，还可以实现各种神经病排序方法。</p>
<p>&nbsp;</p>
<p>放个例子：</p>
<div class="cnblogs_code" onclick="cnblogs_code_show('ef7f6ab5-f061-4301-a33a-3d543c18802c')"><img id="code_img_closed_ef7f6ab5-f061-4301-a33a-3d543c18802c" class="code_img_closed" src="http://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif" alt="" /><img id="code_img_opened_ef7f6ab5-f061-4301-a33a-3d543c18802c" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('ef7f6ab5-f061-4301-a33a-3d543c18802c',event)" src="http://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif" alt="" />
<div id="cnblogs_code_open_ef7f6ab5-f061-4301-a33a-3d543c18802c" class="cnblogs_code_hide">
<pre><span style="color: #008080;"> 1</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> java.util.Arrays;
</span><span style="color: #008080;"> 2</span> 
<span style="color: #008080;"> 3</span> <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">class</span> test <span style="color: #0000ff;">implements</span> Comparable&lt;Object&gt;<span style="color: #000000;"> {
</span><span style="color: #008080;"> 4</span>     <span style="color: #0000ff;">int</span><span style="color: #000000;"> cmp;
</span><span style="color: #008080;"> 5</span>     <span style="color: #0000ff;">public</span> test(<span style="color: #0000ff;">int</span><span style="color: #000000;"> i) {
</span><span style="color: #008080;"> 6</span>         <span style="color: #0000ff;">this</span>.cmp =<span style="color: #000000;"> i;
</span><span style="color: #008080;"> 7</span> <span style="color: #000000;">    }
</span><span style="color: #008080;"> 8</span>     
<span style="color: #008080;"> 9</span>     <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">int</span><span style="color: #000000;"> compareTo(Object o) {
</span><span style="color: #008080;">10</span>         test obj =<span style="color: #000000;"> (test) o;
</span><span style="color: #008080;">11</span>         <span style="color: #0000ff;">if</span> (obj.cmp == <span style="color: #0000ff;">this</span><span style="color: #000000;">.cmp)
</span><span style="color: #008080;">12</span>             <span style="color: #0000ff;">return</span> 0<span style="color: #000000;">;
</span><span style="color: #008080;">13</span>         <span style="color: #0000ff;">else</span>
<span style="color: #008080;">14</span>             <span style="color: #0000ff;">return</span> obj.cmp &gt; <span style="color: #0000ff;">this</span>.cmp ? 1 : -1<span style="color: #000000;">;
</span><span style="color: #008080;">15</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">16</span>     
<span style="color: #008080;">17</span>     <span style="color: #0000ff;">public</span><span style="color: #000000;"> String toString() {
</span><span style="color: #008080;">18</span>         <span style="color: #0000ff;">return</span> Integer.toString(<span style="color: #0000ff;">this</span><span style="color: #000000;">.cmp);
</span><span style="color: #008080;">19</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">20</span>     
<span style="color: #008080;">21</span>     <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">static</span> <span style="color: #0000ff;">void</span><span style="color: #000000;"> main(String[] args) {
</span><span style="color: #008080;">22</span>         test one = <span style="color: #0000ff;">new</span> test(152<span style="color: #000000;">);
</span><span style="color: #008080;">23</span>         test two = <span style="color: #0000ff;">new</span> test(43690<span style="color: #000000;">);
</span><span style="color: #008080;">24</span>         test tre = <span style="color: #0000ff;">new</span> test(15<span style="color: #000000;">);
</span><span style="color: #008080;">25</span>         test fur = <span style="color: #0000ff;">new</span> test(1536<span style="color: #000000;">);
</span><span style="color: #008080;">26</span>         
<span style="color: #008080;">27</span>         test[] list = <span style="color: #0000ff;">new</span> test[4<span style="color: #000000;">];
</span><span style="color: #008080;">28</span>         list[0] = one; list[1] = two; list[2] = tre; list[3] =<span style="color: #000000;"> fur;
</span><span style="color: #008080;">29</span>         
<span style="color: #008080;">30</span>         <span style="color: #0000ff;">for</span><span style="color: #000000;"> (test t: list) {
</span><span style="color: #008080;">31</span> <span style="color: #000000;">            System.out.println(t);
</span><span style="color: #008080;">32</span> <span style="color: #000000;">        }
</span><span style="color: #008080;">33</span>         
<span style="color: #008080;">34</span> <span style="color: #000000;">        Arrays.sort(list);
</span><span style="color: #008080;">35</span> <span style="color: #000000;">        System.out.println();
</span><span style="color: #008080;">36</span>         
<span style="color: #008080;">37</span>         <span style="color: #0000ff;">for</span><span style="color: #000000;"> (test t: list) {
</span><span style="color: #008080;">38</span> <span style="color: #000000;">            System.out.println(t);
</span><span style="color: #008080;">39</span> <span style="color: #000000;">        }
</span><span style="color: #008080;">40</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">41</span> }</pre>
</div>
<span class="cnblogs_code_collapse">千本座具罗</span></div>
<div onclick="cnblogs_code_show('ef7f6ab5-f061-4301-a33a-3d543c18802c')">=================================================================================================</div>
<div onclick="cnblogs_code_show('ef7f6ab5-f061-4301-a33a-3d543c18802c')">添加刚学的泛型知识。</div>
<div onclick="cnblogs_code_show('ef7f6ab5-f061-4301-a33a-3d543c18802c')">&nbsp;</div>
<div onclick="cnblogs_code_show('ef7f6ab5-f061-4301-a33a-3d543c18802c')">public class test implements Comparable<span style="color: #ff0000;">&lt;Object&gt;</span> {<br />&nbsp;&nbsp;&nbsp; }<br />&nbsp;&nbsp; &nbsp;<br />&nbsp;&nbsp;&nbsp; public int compareTo(<span style="color: #ff0000;">Object</span> o) {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; test obj = <span style="color: #3366ff;">(test) </span>o;</div>
<div onclick="cnblogs_code_show('ef7f6ab5-f061-4301-a33a-3d543c18802c')">&nbsp;</div>
<div onclick="cnblogs_code_show('ef7f6ab5-f061-4301-a33a-3d543c18802c')">红字部分全改成test类型，蓝字部分就不需要了。</div>
<div onclick="cnblogs_code_show('ef7f6ab5-f061-4301-a33a-3d543c18802c')">&nbsp;</div>
<div onclick="cnblogs_code_show('ef7f6ab5-f061-4301-a33a-3d543c18802c')">尖括号里的内容指定了泛型，意思是我在这里只用这种类型，介于Object是所有对象的父类，现在用了跟没用一样。</div>
<div onclick="cnblogs_code_show('ef7f6ab5-f061-4301-a33a-3d543c18802c')">如果指定test类型，那下边取出内容自然也是test类型，就不需要强制转换了。</div>

<div align=right><a href="https://github.com/mlxy"><font size=1>——本文由博客园搬家工具SRBCnblogs转换而成</font></a></div>